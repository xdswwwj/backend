model Club {
  id          Int      @id @default(autoincrement())
  type        Int
  leaderId    Int
  leader      User     @relation(fields: [leaderId], references: [id])
  name        String   @unique
  image       String?
  description String?
  members     Json? // 임시 유저 정보
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  linkedClubs LinkedClub[]
}

model LinkedClub {
  id        Int       @id @default(autoincrement())
  clubId    Int
  userId    Int
  status    String    @default("active") // "active" 또는 "inactive" (탈퇴 상태)
  createdAt DateTime  @default(now()) // 가입 시점
  deletedAt DateTime? // 탈퇴 시점 (NULL이면 활성 상태)

  club Club @relation(fields: [clubId], references: [id])
  user User @relation(fields: [userId], references: [id])

  @@index([clubId]) // clubId에 대한 단일 필드 인덱스
  @@index([userId]) // userId에 대한 단일 필드 인덱스
  @@index([clubId, userId])
}
